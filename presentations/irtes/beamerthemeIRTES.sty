% Copyright (c) 2014 Stephane GALLAND <galland@arakhne.org>
%
% UTBM, IRTES and SET logos and names are registered and owned by the
% "Universite de Technology of Belfort-Montbeliard".
% 
% This program is free library; you can redistribute it and/or modify
% it under the terms of the GNU Lesser General Public License as
% published by the Free Software Foundation; either version 3 of the
% License, or any later version.
%
% This library is distributed in the hope that it will be useful, but
% WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
% Lesser General Public License for more details.
%
% You should have received a copy of the GNU Lesser General Public
% License along with this library; see the file COPYING.  If not,
% write to the Free Software Foundation, Inc., 59 Temple Place - Suite
% 330, Boston, MA 02111-1307, USA.
%
\ProvidesPackage{beamerthemeIRTES}
   [2014/09/10 Beamer 'IRTES' Theme]

\RequirePackage{ifthen}

\newboolean{beamer@theme@irtes@hascovers}
\setboolean{beamer@theme@irtes@hascovers}{true}

\gdef\beamer@theme@irtes@lang{Java}

\DeclareOptionBeamer{language}{\gdef\beamer@theme@irtes@lang{#1}}
\DeclareOptionBeamer{nocover}{\setboolean{beamer@theme@irtes@hascovers}{false}}
%\ExecuteOptionsBeamer{left}
\ProcessOptionsBeamer

\RequirePackage{beamerbasethemeIRTES}

\mode<presentation>

\usefonttheme{IRTES}
\usecolortheme{IRTES}
\useinnertheme[language=\beamer@theme@irtes@lang]{IRTES}
\useoutertheme{IRTES}

\setbeamercovered{dynamic}

\AtBeginDocument{
	\ifthenelse{\boolean{beamer@theme@irtes@hascovers}}{%
		\usebackgroundtemplate{} % do not put a background here because of a rendering bug of beamer. See "title page" template insteed.
		\frame{\maketitle}
	}{}
	\usebackgroundtemplate{\ifbeamer@plainframe\else\pgfuseimage{IRTESbackground}\fi}
	\setbeamertemplate{footline}{\beamer@theme@irtes@outer@footline}
}

\AtEndDocument{%
	\ifthenelse{\boolean{beamer@theme@irtes@hascovers}}{%
		\beamer@theme@irtes@thanksslide%
	}{}
}


\mode
<all>
